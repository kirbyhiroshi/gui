<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>栄養士向け献立管理システム - 1ヶ月分</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
</head>
<body>

    <div id="app">
        <header>
            <h1>特養向け 献立管理システム（1ヶ月プロトタイプ）</h1>
            <p>日付を列、献立項目を行とした縦型表示です。スクロールして全30日分を確認できます。</p>
        </header>

        <main>
            
            <section class="menu-container">
                <h2>1ヶ月献立表 (ダミーデータ)</h2>
                
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th class="fixed-column">献立項目</th>
                                <th v-for="(day, index) in dates" :key="index">
                                    {{ day.day }}<br>({{ day.weekday }})
                                </th>
                            </tr>
                        </thead>
                        
                        <tbody>
                            <template v-for="(row, index) in monthlyMenuStructure" :key="index">
                                <tr v-if="index > 0 && monthlyMenuStructure[index-1].time !== row.time" class="meal-break">
                                    <td colspan="31"></td>
                                </tr>
                                
                                <tr>
                                    <td class="fixed-column">
                                        <strong>{{ row.time }}</strong><br>{{ row.type }}
                                    </td>
                                    <td v-for="(item, dayIndex) in row.items" :key="dayIndex">
                                        {{ item }}
                                    </td>
                                </tr>
                            </template>
                        </tbody>
                    </table>
                </div>
            </section>
        </main>

        <footer>
            <p>&copy; 2025 Menu Automation Prototype. Built with Vue.js on GitHub Pages.</p>
        </footer>
    </div>

    <script>
        // ダミーデータ生成用
        const DUMMY_MAIN = ['鶏肉の照り焼き(肉)', '鮭のムニエル(魚)', '豚肉の生姜焼き(肉)', '鯖の味噌煮(魚)'];
        const DUMMY_SIDE = ['ほうれん草のお浸し', '人参とピーマンの炒め物', 'ひじきの煮物', 'きんぴらごぼう', '冬瓜の餡かけ'];
        const DUMMY_SOUP = ['味噌汁', '澄まし汁', 'すまし汁'];
        const DUMMY_DESSERT = ['ゼリー', 'プリン', 'ヨーグルト'];
        const DUMMY_BREAKFAST_MAIN = ['卵焼き(卵)', '豆腐の煮物(豆腐)', 'スクランブルエッグ(卵)', '納豆(豆腐)'];
        const DUMMY_STAPLE = ['ご飯', '全粥', 'パン'];

        // 30日分のダミーデータを生成する関数
        const generateDummyData = (list) => {
            const data = [];
            for (let i = 0; i < 30; i++) {
                data.push(list[i % list.length]);
            }
            return data;
        };

        // Vue.jsアプリケーションの設定
        Vue.createApp({
            data() {
                return {
                    // 30日分のヘッダー情報（ダミー）
                    dates: Array.from({ length: 30 }, (_, i) => ({
                        day: `${i + 1}日`,
                        weekday: ['月', '火', '水', '木', '金', '土', '日'][i % 7]
                    })),
                    
                    // 縦型テーブル表示用のデータ構造
                    monthlyMenuStructure: [
                        // 朝食 (4品)
                        { time: '朝食', type: '主食', items: generateDummyData(DUMMY_STAPLE) },
                        { time: '朝食', type: '主菜', items: generateDummyData(DUMMY_BREAKFAST_MAIN) },
                        { time: '朝食', type: '副菜', items: generateDummyData(DUMMY_SIDE) },
                        { time: '朝食', type: '汁物', items: generateDummyData(DUMMY_SOUP) },
                        
                        // 昼食 (5品)
                        { time: '昼食', type: '主食', items: generateDummyData(DUMMY_STAPLE) },
                        { time: '昼食', type: '主菜', items: generateDummyData(DUMMY_MAIN) },
                        { time: '昼食', type: '副菜1', items: generateDummyData(DUMMY_SIDE) },
                        { time: '昼食', type: '副菜2', items: generateDummyData(DUMMY_SIDE.slice(2)) },
                        { time: '昼食', type: 'デザート', items: generateDummyData(DUMMY_DESSERT) },
                        
                        // 夕食 (4品)
                        { time: '夕食', type: '主食', items: generateDummyData(DUMMY_STAPLE) },
                        { time: '夕食', type: '主菜', items: generateDummyData(DUMMY_MAIN.reverse()) },
                        { time: '夕食', type: '副菜1', items: generateDummyData(DUMMY_SIDE.slice(1)) },
                        { time: '夕食', type: '副菜2', items: generateDummyData(DUMMY_SIDE.slice(3)) },
                    ]
                };
            }
        }).mount('#app');
    </script>
</body>
</html>
